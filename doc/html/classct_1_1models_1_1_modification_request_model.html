<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>CalendarTool: ModificationRequestModel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CalendarTool
   &#160;<span id="projectnumber">0.0</span>
   </div>
   <div id="projectbrief">Learn the basic management and make a calendar tool</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classct_1_1models_1_1_modification_request_model.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">ModificationRequestModel Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class for handling database queries related to modification requests.  
 <a href="classct_1_1models_1_1_modification_request_model.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for ModificationRequestModel:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classct_1_1models_1_1_modification_request_model.png" usemap="#ModificationRequestModel_map" alt=""/>
  <map id="ModificationRequestModel_map" name="ModificationRequestModel_map">
<area href="classutil_1_1mvc_1_1_model.html" title="Base class for models. " alt="Model" shape="rect" coords="0,0,160,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a095c5d389db211932136b53f25f39685"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a095c5d389db211932136b53f25f39685"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classct_1_1models_1_1_modification_request_model.html#a095c5d389db211932136b53f25f39685">__construct</a> ()</td></tr>
<tr class="memdesc:a095c5d389db211932136b53f25f39685"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct the <a class="el" href="classct_1_1models_1_1_modification_request_model.html" title="Class for handling database queries related to modification requests. ">ModificationRequestModel</a> object. <br/></td></tr>
<tr class="separator:a095c5d389db211932136b53f25f39685"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace817061c7896f32a9bcc918038ca4d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classct_1_1models_1_1_modification_request_model.html#ace817061c7896f32a9bcc918038ca4d1">get_targets</a> ()</td></tr>
<tr class="memdesc:ace817061c7896f32a9bcc918038ca4d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all the possible modification targets.  <a href="#ace817061c7896f32a9bcc918038ca4d1">More...</a><br/></td></tr>
<tr class="separator:ace817061c7896f32a9bcc918038ca4d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ccc5faa82d1b71660c04f50b5b718f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classct_1_1models_1_1_modification_request_model.html#a8ccc5faa82d1b71660c04f50b5b718f5">check_modification_request_data</a> (array &amp;$data, array &amp;$error_desc, $lock_mode=<a class="el" href="classutil_1_1mvc_1_1_model.html#a3f82f023849a9c79819a7ff774811a4f">Model::LOCKMODE_NO_LOCK</a>)</td></tr>
<tr class="memdesc:a8ccc5faa82d1b71660c04f50b5b718f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the integrity of the data of a modification request and cleans it if necessary.  <a href="#a8ccc5faa82d1b71660c04f50b5b718f5">More...</a><br/></td></tr>
<tr class="separator:a8ccc5faa82d1b71660c04f50b5b718f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7ea5e6527c80db4127603f13143b291"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classct_1_1models_1_1_modification_request_model.html#ac7ea5e6527c80db4127603f13143b291">insert_modification_request</a> (array $data, $lock_mode=<a class="el" href="classutil_1_1mvc_1_1_model.html#a3f82f023849a9c79819a7ff774811a4f">Model::LOCKMODE_NO_LOCK</a>)</td></tr>
<tr class="memdesc:ac7ea5e6527c80db4127603f13143b291"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert a new modification request into the database.  <a href="#ac7ea5e6527c80db4127603f13143b291">More...</a><br/></td></tr>
<tr class="separator:ac7ea5e6527c80db4127603f13143b291"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4b55730c647a6797aede6819b232b8e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classct_1_1models_1_1_modification_request_model.html#ae4b55730c647a6797aede6819b232b8e">get_modification_request</a> ($req_id)</td></tr>
<tr class="memdesc:ae4b55730c647a6797aede6819b232b8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the data of the modification request having the given id.  <a href="#ae4b55730c647a6797aede6819b232b8e">More...</a><br/></td></tr>
<tr class="separator:ae4b55730c647a6797aede6819b232b8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a532a3fe9ce3ef52da1a77f0cc98e8238"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classct_1_1models_1_1_modification_request_model.html#a532a3fe9ce3ef52da1a77f0cc98e8238">get_modification_requests</a> ($method, $id)</td></tr>
<tr class="memdesc:a532a3fe9ce3ef52da1a77f0cc98e8238"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects a set of modification requests with the given criterion.  <a href="#a532a3fe9ce3ef52da1a77f0cc98e8238">More...</a><br/></td></tr>
<tr class="separator:a532a3fe9ce3ef52da1a77f0cc98e8238"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1205073da3837d804b950340d89d5543"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classct_1_1models_1_1_modification_request_model.html#a1205073da3837d804b950340d89d5543">update_request_status</a> ($req_id, $new_status)</td></tr>
<tr class="memdesc:a1205073da3837d804b950340d89d5543"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the status of a request to the new status.  <a href="#a1205073da3837d804b950340d89d5543">More...</a><br/></td></tr>
<tr class="separator:a1205073da3837d804b950340d89d5543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5a360fc70c418b713cbb43bfbfb036f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classct_1_1models_1_1_modification_request_model.html#aa5a360fc70c418b713cbb43bfbfb036f">apply_modification</a> ($req_id)</td></tr>
<tr class="memdesc:aa5a360fc70c418b713cbb43bfbfb036f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply the given modification request (modifies the related event)  <a href="#aa5a360fc70c418b713cbb43bfbfb036f">More...</a><br/></td></tr>
<tr class="separator:aa5a360fc70c418b713cbb43bfbfb036f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classutil_1_1mvc_1_1_model"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classutil_1_1mvc_1_1_model')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classutil_1_1mvc_1_1_model.html">Model</a></td></tr>
<tr class="memitem:a095c5d389db211932136b53f25f39685 inherit pub_methods_classutil_1_1mvc_1_1_model"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a095c5d389db211932136b53f25f39685"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1mvc_1_1_model.html#a095c5d389db211932136b53f25f39685">__construct</a> ()</td></tr>
<tr class="memdesc:a095c5d389db211932136b53f25f39685 inherit pub_methods_classutil_1_1mvc_1_1_model"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build a <a class="el" href="classutil_1_1mvc_1_1_model.html" title="Base class for models. ">Model</a> object. <br/></td></tr>
<tr class="separator:a095c5d389db211932136b53f25f39685 inherit pub_methods_classutil_1_1mvc_1_1_model"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:aae72d31bfbec2b0724b39d73462853fe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aae72d31bfbec2b0724b39d73462853fe"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classct_1_1models_1_1_modification_request_model.html#aae72d31bfbec2b0724b39d73462853fe">STATUS_SENT</a> = &quot;sent&quot;</td></tr>
<tr class="memdesc:aae72d31bfbec2b0724b39d73462853fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status string constant : sent. <br/></td></tr>
<tr class="separator:aae72d31bfbec2b0724b39d73462853fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f80c53f025dbcfa3b742820a5f472c8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6f80c53f025dbcfa3b742820a5f472c8"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classct_1_1models_1_1_modification_request_model.html#a6f80c53f025dbcfa3b742820a5f472c8">STATUS_ACCEPTED</a> = &quot;accepted&quot;</td></tr>
<tr class="memdesc:a6f80c53f025dbcfa3b742820a5f472c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status string constant : accepted. <br/></td></tr>
<tr class="separator:a6f80c53f025dbcfa3b742820a5f472c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e22a60db07645715da9995e43076bba"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0e22a60db07645715da9995e43076bba"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classct_1_1models_1_1_modification_request_model.html#a0e22a60db07645715da9995e43076bba">STATUS_CANCELLED</a> = &quot;cancelled&quot;</td></tr>
<tr class="memdesc:a0e22a60db07645715da9995e43076bba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status string constant : cancelled. <br/></td></tr>
<tr class="separator:a0e22a60db07645715da9995e43076bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa25a7729a5d70def79d5519811fefbea"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa25a7729a5d70def79d5519811fefbea"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classct_1_1models_1_1_modification_request_model.html#aa25a7729a5d70def79d5519811fefbea">STATUS_REFUSED</a> = &quot;refused&quot;</td></tr>
<tr class="memdesc:aa25a7729a5d70def79d5519811fefbea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status string constant : refused. <br/></td></tr>
<tr class="separator:aa25a7729a5d70def79d5519811fefbea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e62710a70b0b77f6544565ff8c26d9a"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classct_1_1models_1_1_modification_request_model.html#a6e62710a70b0b77f6544565ff8c26d9a">SELECT_BY_EVENT</a> = 0</td></tr>
<tr class="separator:a6e62710a70b0b77f6544565ff8c26d9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b3a0052f404ab3d00fb91d6cfe01711"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classct_1_1models_1_1_modification_request_model.html#a3b3a0052f404ab3d00fb91d6cfe01711">SELECT_BY_USER</a> = 1</td></tr>
<tr class="separator:a3b3a0052f404ab3d00fb91d6cfe01711"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8495909f26a9fcfe6d119677a651878f"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classct_1_1models_1_1_modification_request_model.html#a8495909f26a9fcfe6d119677a651878f">SELECT_BY_SENDER</a> = 2</td></tr>
<tr class="separator:a8495909f26a9fcfe6d119677a651878f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classutil_1_1mvc_1_1_model"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classutil_1_1mvc_1_1_model')"><img src="closed.png" alt="-"/>&#160;Data Fields inherited from <a class="el" href="classutil_1_1mvc_1_1_model.html">Model</a></td></tr>
<tr class="memitem:a3f82f023849a9c79819a7ff774811a4f inherit pub_attribs_classutil_1_1mvc_1_1_model"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3f82f023849a9c79819a7ff774811a4f"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1mvc_1_1_model.html#a3f82f023849a9c79819a7ff774811a4f">LOCKMODE_NO_LOCK</a> = 1</td></tr>
<tr class="memdesc:a3f82f023849a9c79819a7ff774811a4f inherit pub_attribs_classutil_1_1mvc_1_1_model"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock behaviour : no lock must be acquired. <br/></td></tr>
<tr class="separator:a3f82f023849a9c79819a7ff774811a4f inherit pub_attribs_classutil_1_1mvc_1_1_model"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f77863b7fb8bb22ed23164165dd04b1 inherit pub_attribs_classutil_1_1mvc_1_1_model"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4f77863b7fb8bb22ed23164165dd04b1"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1mvc_1_1_model.html#a4f77863b7fb8bb22ed23164165dd04b1">LOCKMODE_LOCK</a> = 2</td></tr>
<tr class="memdesc:a4f77863b7fb8bb22ed23164165dd04b1 inherit pub_attribs_classutil_1_1mvc_1_1_model"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock behaviour : only acquire the lock (no unlock) <br/></td></tr>
<tr class="separator:a4f77863b7fb8bb22ed23164165dd04b1 inherit pub_attribs_classutil_1_1mvc_1_1_model"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a756ee4e586711ddb7a2c0c6ee268c8f6 inherit pub_attribs_classutil_1_1mvc_1_1_model"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a756ee4e586711ddb7a2c0c6ee268c8f6"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1mvc_1_1_model.html#a756ee4e586711ddb7a2c0c6ee268c8f6">LOCKMODE_UNLOCK</a> = 3</td></tr>
<tr class="memdesc:a756ee4e586711ddb7a2c0c6ee268c8f6 inherit pub_attribs_classutil_1_1mvc_1_1_model"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock behaviour : acquire the lock and then unlock. <br/></td></tr>
<tr class="separator:a756ee4e586711ddb7a2c0c6ee268c8f6 inherit pub_attribs_classutil_1_1mvc_1_1_model"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classutil_1_1mvc_1_1_model"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classutil_1_1mvc_1_1_model')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classutil_1_1mvc_1_1_model.html">Model</a></td></tr>
<tr class="memitem:a318e0cf28df09450ebaa71881010419d inherit pro_methods_classutil_1_1mvc_1_1_model"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1mvc_1_1_model.html#a318e0cf28df09450ebaa71881010419d">get_abstract</a> ()</td></tr>
<tr class="memdesc:a318e0cf28df09450ebaa71881010419d inherit pro_methods_classutil_1_1mvc_1_1_model"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the sql abstract object.  <a href="#a318e0cf28df09450ebaa71881010419d">More...</a><br/></td></tr>
<tr class="separator:a318e0cf28df09450ebaa71881010419d inherit pro_methods_classutil_1_1mvc_1_1_model"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab17eeb05b8f5b5dbfc803837b641f31a inherit pro_methods_classutil_1_1mvc_1_1_model"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1mvc_1_1_model.html#ab17eeb05b8f5b5dbfc803837b641f31a">do_unlock</a> ($lock_mode)</td></tr>
<tr class="memdesc:ab17eeb05b8f5b5dbfc803837b641f31a inherit pro_methods_classutil_1_1mvc_1_1_model"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the given lock behavior implies a unlock.  <a href="#ab17eeb05b8f5b5dbfc803837b641f31a">More...</a><br/></td></tr>
<tr class="separator:ab17eeb05b8f5b5dbfc803837b641f31a inherit pro_methods_classutil_1_1mvc_1_1_model"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab15bff56ea5576f92bd7c71700644e69 inherit pro_methods_classutil_1_1mvc_1_1_model"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1mvc_1_1_model.html#ab15bff56ea5576f92bd7c71700644e69">do_lock</a> ($lock_mode)</td></tr>
<tr class="memdesc:ab15bff56ea5576f92bd7c71700644e69 inherit pro_methods_classutil_1_1mvc_1_1_model"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the given lock behavior implies a lock.  <a href="#ab15bff56ea5576f92bd7c71700644e69">More...</a><br/></td></tr>
<tr class="separator:ab15bff56ea5576f92bd7c71700644e69 inherit pro_methods_classutil_1_1mvc_1_1_model"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47e45b8a35f69bda98eb7d1689c694fa inherit pro_methods_classutil_1_1mvc_1_1_model"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1mvc_1_1_model.html#a47e45b8a35f69bda98eb7d1689c694fa">get_sub_lockmode</a> ($lock_mode)</td></tr>
<tr class="memdesc:a47e45b8a35f69bda98eb7d1689c694fa inherit pro_methods_classutil_1_1mvc_1_1_model"><td class="mdescLeft">&#160;</td><td class="mdescRight">As the unlock can only be performed when the complete set of operation was performed, then a function that receives a LOCKMODE_UNLOCK lock mode and call other function that should acquire lock cannot propagate this lock mode to these function. This function returns the lock mode that should be propagated these functions.  <a href="#a47e45b8a35f69bda98eb7d1689c694fa">More...</a><br/></td></tr>
<tr class="separator:a47e45b8a35f69bda98eb7d1689c694fa inherit pro_methods_classutil_1_1mvc_1_1_model"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classutil_1_1mvc_1_1_model"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classutil_1_1mvc_1_1_model')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classutil_1_1mvc_1_1_model.html">Model</a></td></tr>
<tr class="memitem:a5766efd703cef0e00bfc06b3f3acbe0e inherit pro_attribs_classutil_1_1mvc_1_1_model"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5766efd703cef0e00bfc06b3f3acbe0e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1mvc_1_1_model.html#a5766efd703cef0e00bfc06b3f3acbe0e">$pdo</a></td></tr>
<tr class="memdesc:a5766efd703cef0e00bfc06b3f3acbe0e inherit pro_attribs_classutil_1_1mvc_1_1_model"><td class="mdescLeft">&#160;</td><td class="mdescRight">pdo object <br/></td></tr>
<tr class="separator:a5766efd703cef0e00bfc06b3f3acbe0e inherit pro_attribs_classutil_1_1mvc_1_1_model"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a047170d6020a882807665812a27e2525 inherit pro_attribs_classutil_1_1mvc_1_1_model"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a047170d6020a882807665812a27e2525"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1mvc_1_1_model.html#a047170d6020a882807665812a27e2525">$sql</a></td></tr>
<tr class="memdesc:a047170d6020a882807665812a27e2525 inherit pro_attribs_classutil_1_1mvc_1_1_model"><td class="mdescLeft">&#160;</td><td class="mdescRight">sql abstract object <br/></td></tr>
<tr class="separator:a047170d6020a882807665812a27e2525 inherit pro_attribs_classutil_1_1mvc_1_1_model"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class for handling database queries related to modification requests. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa5a360fc70c418b713cbb43bfbfb036f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apply_modification </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$req_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply the given modification request (modifies the related event) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">int</td><td class="paramname">$req_id</td><td>The request identifier </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True on success, false on error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8ccc5faa82d1b71660c04f50b5b718f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">check_modification_request_data </td>
          <td>(</td>
          <td class="paramtype">array &amp;&#160;</td>
          <td class="paramname"><em>$data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array &amp;&#160;</td>
          <td class="paramname"><em>$error_desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$lock_mode</em> = <code><a class="el" href="classutil_1_1mvc_1_1_model.html#a3f82f023849a9c79819a7ff774811a4f">Model::LOCKMODE_NO_LOCK</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks the integrity of the data of a modification request and cleans it if necessary. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">array</td><td class="paramname">$data</td><td>An array containing the data to check </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramtype">array</td><td class="paramname">$error_desc</td><td>Contains an error description for each field that wasn't valid </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">int</td><td class="paramname">$lock_mode</td><td>One of the Model LOCKMODE_* class constant </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the data were correctly formatted, false otherwise</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The $data array should be structured as for the insert_modification_request function </dd>
<dd>
The formatting of error desc is the same as the data array </dd>
<dd>
This function might access the following tables : event, modification_target </dd></dl>

</div>
</div>
<a class="anchor" id="ae4b55730c647a6797aede6819b232b8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_modification_request </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$req_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the data of the modification request having the given id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">int</td><td class="paramname">$req_id</td><td>The modification request id </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array structured as the $data array of the insert_modification_request function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>In addition of the index present in the $data array of the insert_modification_request function, some fields status and request are added containing respectively the status of the request and the request id. </dd></dl>

</div>
</div>
<a class="anchor" id="a532a3fe9ce3ef52da1a77f0cc98e8238"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_modification_requests </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Selects a set of modification requests with the given criterion. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">int</td><td class="paramname">$method</td><td>The criterion (one of the class SELECT_* constant) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">int</td><td class="paramname">$id</td><td>The id corresponding to the criterion </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>multidimensionnal array of which each row corresponds to a request and is structured as the array returned by the get_modification_request function. Return null on error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ace817061c7896f32a9bcc918038ca4d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_targets </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all the possible modification targets. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array of which the rows corresponds to the targets </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The each row of the output array is mapped by the corresponding target id and is structured as follows : <ul>
<li>
Id_Target : the target id </li>
<li>
Name : the target modification name </li>
<li>
Type : the target type </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ac7ea5e6527c80db4127603f13143b291"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">insert_modification_request </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$lock_mode</em> = <code><a class="el" href="classutil_1_1mvc_1_1_model.html#a3f82f023849a9c79819a7ff774811a4f">Model::LOCKMODE_NO_LOCK</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert a new modification request into the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">array</td><td class="paramname">$data</td><td>The modification request data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">int</td><td class="paramname">$lock_mode</td><td>One of the Model LOCKMODE_* class constant</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The $data array should be structured as follows : <ul>
<li>
event : the event id </li>
<li>
sender : the sender id </li>
<li>
description : description text </li>
<li>
targets : see below</li>
<li>
</li>
</ul>
</dd></dl>
<p>The targets key in the $data array should map an array of which the row are also arrays : </p>
<ul>
<li>
target : target id </li>
<li>
proposition : change according to the target (see below) </li>
</ul>
<p>According to the modification target, the field proposition should map :</p>
<ol type="1">
<li>place : a string indicating the new place</li>
<li>to_date_range : an array ('start' =&gt; $start_date, 'end' =&gt; $end_date)</li>
<li>to_time_range : an array ('start' =&gt; $start_datetime, 'end' =&gt; $end_datetime)</li>
<li>to_deadline : a string indicating the new datetime</li>
<li>change_date : an array ('what' =&gt; ("start"|"end"), 'date' =&gt; $new_date)</li>
<li>change_time : an array ('what' =&gt; ("start"|"end"|"deadline"), 'time' =&gt; $new_datetime) </li>
</ol>

</div>
</div>
<a class="anchor" id="a1205073da3837d804b950340d89d5543"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">update_request_status </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$req_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$new_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the status of a request to the new status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">int</td><td class="paramname">$req_id</td><td>The request identifier </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$new_status</td><td>The new status (one of the STATUS_* class constant) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True on success, false on error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a6e62710a70b0b77f6544565ff8c26d9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const SELECT_BY_EVENT = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Selection method for selecting request : by event </p>

</div>
</div>
<a class="anchor" id="a8495909f26a9fcfe6d119677a651878f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const SELECT_BY_SENDER = 2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Selection method for selecting request : by sender </p>

</div>
</div>
<a class="anchor" id="a3b3a0052f404ab3d00fb91d6cfe01711"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const SELECT_BY_USER = 1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Selection method for selecting request : by user </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>D:/Documents/BitBucket/CalendarTool/web/ct/models/<a class="el" href="_modification_request_model_8class_8php.html">ModificationRequestModel.class.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>ct</b></li><li class="navelem"><b>models</b></li><li class="navelem"><a class="el" href="classct_1_1models_1_1_modification_request_model.html">ModificationRequestModel</a></li>
    <li class="footer">Generated on Tue Mar 3 2015 23:11:50 for CalendarTool by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
