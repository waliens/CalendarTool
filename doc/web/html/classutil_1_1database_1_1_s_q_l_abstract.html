<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>CalendarTool: SQLAbstract Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CalendarTool
   &#160;<span id="projectnumber">0.0</span>
   </div>
   <div id="projectbrief">Learn the basic management and make a calendar tool</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classutil_1_1database_1_1_s_q_l_abstract.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">SQLAbstract Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A class that abstracts the querying of a database by providing a set of methods for usual database operations.  
 <a href="classutil_1_1database_1_1_s_q_l_abstract.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for SQLAbstract:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classutil_1_1database_1_1_s_q_l_abstract.png" usemap="#SQLAbstract_map" alt=""/>
  <map id="SQLAbstract_map" name="SQLAbstract_map">
<area href="classutil_1_1database_1_1_s_q_l_abstract___p_d_o.html" title="A class using pdo for implementing methods of the SQLAbstract class. " alt="SQLAbstract_PDO" shape="rect" coords="0,56,118,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad0e21a3c98ae9f8d8f1f69cc5753bec6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#ad0e21a3c98ae9f8d8f1f69cc5753bec6">select</a> ($table, $where_clause=null, array $column_names=null, array $order_by=null, array $group_by=null, $limit_first=null, $limit_nb=null)</td></tr>
<tr class="memdesc:ad0e21a3c98ae9f8d8f1f69cc5753bec6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for sending a select query to the database.  <a href="#ad0e21a3c98ae9f8d8f1f69cc5753bec6">More...</a><br/></td></tr>
<tr class="separator:ad0e21a3c98ae9f8d8f1f69cc5753bec6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9ae41c429f484035137903685ace34e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#ae9ae41c429f484035137903685ace34e">insert</a> ($table, array $column_value_map)</td></tr>
<tr class="memdesc:ae9ae41c429f484035137903685ace34e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for sending an insert query to the database.  <a href="#ae9ae41c429f484035137903685ace34e">More...</a><br/></td></tr>
<tr class="separator:ae9ae41c429f484035137903685ace34e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bb81036f69a5a88a69564370318e69d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a9bb81036f69a5a88a69564370318e69d">insert_batch</a> ($table, array $values, array $columns=null)</td></tr>
<tr class="memdesc:a9bb81036f69a5a88a69564370318e69d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for sending an insert query to the database in order to insert multiple rows at once.  <a href="#a9bb81036f69a5a88a69564370318e69d">More...</a><br/></td></tr>
<tr class="separator:a9bb81036f69a5a88a69564370318e69d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d14a9de8bac5dd9b5cfec163e448157"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a7d14a9de8bac5dd9b5cfec163e448157">delete</a> ($table, $where)</td></tr>
<tr class="memdesc:a7d14a9de8bac5dd9b5cfec163e448157"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for sending a delete query to the database.  <a href="#a7d14a9de8bac5dd9b5cfec163e448157">More...</a><br/></td></tr>
<tr class="separator:a7d14a9de8bac5dd9b5cfec163e448157"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae44dccde336c9cf20170ff8a6eb06d78"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#ae44dccde336c9cf20170ff8a6eb06d78">update</a> ($table, array $set, $where)</td></tr>
<tr class="memdesc:ae44dccde336c9cf20170ff8a6eb06d78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for sending an update query to the database.  <a href="#ae44dccde336c9cf20170ff8a6eb06d78">More...</a><br/></td></tr>
<tr class="separator:ae44dccde336c9cf20170ff8a6eb06d78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05065e9590d7928e48f1b0f39c478393"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a05065e9590d7928e48f1b0f39c478393">count</a> ($table, $where=null)</td></tr>
<tr class="memdesc:a05065e9590d7928e48f1b0f39c478393"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for counting rows in the database.  <a href="#a05065e9590d7928e48f1b0f39c478393">More...</a><br/></td></tr>
<tr class="separator:a05065e9590d7928e48f1b0f39c478393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f9ccca65ba449d5a2ba12ecc0a69e98"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a9f9ccca65ba449d5a2ba12ecc0a69e98">procedure_call</a> ($procedure_name, array $arguments=array())</td></tr>
<tr class="memdesc:a9f9ccca65ba449d5a2ba12ecc0a69e98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for sending a procedure call to the database.  <a href="#a9f9ccca65ba449d5a2ba12ecc0a69e98">More...</a><br/></td></tr>
<tr class="separator:a9f9ccca65ba449d5a2ba12ecc0a69e98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0500ef1cc62855e928abbdb7e62324a1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a0500ef1cc62855e928abbdb7e62324a1">execute_query</a> ($query, array $parameters=array())</td></tr>
<tr class="memdesc:a0500ef1cc62855e928abbdb7e62324a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for sending a user-defined query to the database.  <a href="#a0500ef1cc62855e928abbdb7e62324a1">More...</a><br/></td></tr>
<tr class="separator:a0500ef1cc62855e928abbdb7e62324a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cb70bee2a022b5feb36b17f6da8d5c9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a0cb70bee2a022b5feb36b17f6da8d5c9">error_code</a> ()</td></tr>
<tr class="memdesc:a0cb70bee2a022b5feb36b17f6da8d5c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the last error's code.  <a href="#a0cb70bee2a022b5feb36b17f6da8d5c9">More...</a><br/></td></tr>
<tr class="separator:a0cb70bee2a022b5feb36b17f6da8d5c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8f7e84858176aa9327fdf8e63bc05ed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#ac8f7e84858176aa9327fdf8e63bc05ed">error_info</a> ()</td></tr>
<tr class="memdesc:ac8f7e84858176aa9327fdf8e63bc05ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the last error's description.  <a href="#ac8f7e84858176aa9327fdf8e63bc05ed">More...</a><br/></td></tr>
<tr class="separator:ac8f7e84858176aa9327fdf8e63bc05ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53a8200588d31907bac9a51dc589deea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a53a8200588d31907bac9a51dc589deea">prepare_query</a> ($query)</td></tr>
<tr class="memdesc:a53a8200588d31907bac9a51dc589deea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare a query.  <a href="#a53a8200588d31907bac9a51dc589deea">More...</a><br/></td></tr>
<tr class="separator:a53a8200588d31907bac9a51dc589deea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addadc2022e9fe02f49da4f7672fb6819"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#addadc2022e9fe02f49da4f7672fb6819">last_insert_id</a> ()</td></tr>
<tr class="memdesc:addadc2022e9fe02f49da4f7672fb6819"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the id of the last inserted line.  <a href="#addadc2022e9fe02f49da4f7672fb6819">More...</a><br/></td></tr>
<tr class="separator:addadc2022e9fe02f49da4f7672fb6819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0de61372611c058fe76c1a341691182"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#ab0de61372611c058fe76c1a341691182">quote</a> ($string)</td></tr>
<tr class="memdesc:ab0de61372611c058fe76c1a341691182"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same behavior as the method PDO::quote()  <a href="#ab0de61372611c058fe76c1a341691182">More...</a><br/></td></tr>
<tr class="separator:ab0de61372611c058fe76c1a341691182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a478f6fd3da7fa9ee1ec738076f3239fe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a478f6fd3da7fa9ee1ec738076f3239fe">quote_fn</a> ()</td></tr>
<tr class="memdesc:a478f6fd3da7fa9ee1ec738076f3239fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return an anonymous function that quotes its string argument.  <a href="#a478f6fd3da7fa9ee1ec738076f3239fe">More...</a><br/></td></tr>
<tr class="separator:a478f6fd3da7fa9ee1ec738076f3239fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0981338c1b985794260fd6a0e27208c6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a0981338c1b985794260fd6a0e27208c6">quote_all</a> (array $strings)</td></tr>
<tr class="memdesc:a0981338c1b985794260fd6a0e27208c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array containing the strings of the $strings array quoted.  <a href="#a0981338c1b985794260fd6a0e27208c6">More...</a><br/></td></tr>
<tr class="separator:a0981338c1b985794260fd6a0e27208c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dc0c0e58a3e2d53d8fa1be24988e958"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a8dc0c0e58a3e2d53d8fa1be24988e958">set_dump_mode</a> ($dump_mode=<a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#abebc05efc87154ccedcec67bcafc2a56">SQLAbstract::DUMP_MODE_DUMP_ALL</a>)</td></tr>
<tr class="memdesc:a8dc0c0e58a3e2d53d8fa1be24988e958"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the dump mode.  <a href="#a8dc0c0e58a3e2d53d8fa1be24988e958">More...</a><br/></td></tr>
<tr class="separator:a8dc0c0e58a3e2d53d8fa1be24988e958"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9cef27070234089790beb72cab82d6e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#ad9cef27070234089790beb72cab82d6e">lock</a> (array $tables_lock)</td></tr>
<tr class="memdesc:ad9cef27070234089790beb72cab82d6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquires the lock for tables given in the array.  <a href="#ad9cef27070234089790beb72cab82d6e">More...</a><br/></td></tr>
<tr class="separator:ad9cef27070234089790beb72cab82d6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb061ecbff1e66db62b9eddfea6e915f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#afb061ecbff1e66db62b9eddfea6e915f">unlock</a> ()</td></tr>
<tr class="memdesc:afb061ecbff1e66db62b9eddfea6e915f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release all the locks acquired with lock.  <a href="#afb061ecbff1e66db62b9eddfea6e915f">More...</a><br/></td></tr>
<tr class="separator:afb061ecbff1e66db62b9eddfea6e915f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f5e7602837a6f85fcb02751c073b181"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a6f5e7602837a6f85fcb02751c073b181">transaction</a> ()</td></tr>
<tr class="memdesc:a6f5e7602837a6f85fcb02751c073b181"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a transaction.  <a href="#a6f5e7602837a6f85fcb02751c073b181">More...</a><br/></td></tr>
<tr class="separator:a6f5e7602837a6f85fcb02751c073b181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5674c27d4a92f6228565010eacbb9cb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#af5674c27d4a92f6228565010eacbb9cb">commit</a> ()</td></tr>
<tr class="memdesc:af5674c27d4a92f6228565010eacbb9cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends the current transaction and commit the set of queries.  <a href="#af5674c27d4a92f6228565010eacbb9cb">More...</a><br/></td></tr>
<tr class="separator:af5674c27d4a92f6228565010eacbb9cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa549adf79e3f8c09fe8f903dd5fbfa7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#afa549adf79e3f8c09fe8f903dd5fbfa7">rollback</a> ()</td></tr>
<tr class="memdesc:afa549adf79e3f8c09fe8f903dd5fbfa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rollback the current transaction.  <a href="#afa549adf79e3f8c09fe8f903dd5fbfa7">More...</a><br/></td></tr>
<tr class="separator:afa549adf79e3f8c09fe8f903dd5fbfa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:abebc05efc87154ccedcec67bcafc2a56"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#abebc05efc87154ccedcec67bcafc2a56">DUMP_MODE_DUMP_ALL</a> = 1</td></tr>
<tr class="separator:abebc05efc87154ccedcec67bcafc2a56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f5010c658108d96a322924dee3b9fe4"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a6f5010c658108d96a322924dee3b9fe4">DUMP_MODE_NO_DUMP</a> = 2</td></tr>
<tr class="separator:a6f5010c658108d96a322924dee3b9fe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a640036a4f2982d41e3a28fb3f5a8d2fa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a640036a4f2982d41e3a28fb3f5a8d2fa">do_dump</a> ()</td></tr>
<tr class="memdesc:a640036a4f2982d41e3a28fb3f5a8d2fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a boolean if the queries must be dumped according to the dump mode.  <a href="#a640036a4f2982d41e3a28fb3f5a8d2fa">More...</a><br/></td></tr>
<tr class="separator:a640036a4f2982d41e3a28fb3f5a8d2fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b53e03f7badf3105a7dca81d0722c3c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a6b53e03f7badf3105a7dca81d0722c3c">dump</a> ($str)</td></tr>
<tr class="memdesc:a6b53e03f7badf3105a7dca81d0722c3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dump the given string.  <a href="#a6b53e03f7badf3105a7dca81d0722c3c">More...</a><br/></td></tr>
<tr class="separator:a6b53e03f7badf3105a7dca81d0722c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class that abstracts the querying of a database by providing a set of methods for usual database operations. </p>
<dl class="section author"><dt>Authors</dt><dd>Romain Mormont </dd></dl>
<dl class="section date"><dt>Date</dt><dd>09/08/2014 </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.2 </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af5674c27d4a92f6228565010eacbb9cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">commit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ends the current transaction and commit the set of queries. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the commit was successfully executed, false otherwise </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>See <a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a6f5e7602837a6f85fcb02751c073b181" title="Starts a transaction. ">SQLAbstract::transaction</a> for an example </dd></dl>

</div>
</div>
<a class="anchor" id="a05065e9590d7928e48f1b0f39c478393"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">count </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$where</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method for counting rows in the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$table</td><td>The table name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$where</td><td>The WHERE clause. null value means no where clause.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>The number of rows counted, -1 on error</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The parameters must be correctly escaped</dd></dl>
<p>Examples : </p>
<div class="fragment"><div class="line"><span class="comment">// sends &quot;SELECT COUNT(*) AS count FROM my_table;&quot;</span></div>
<div class="line">$foo-&gt;count(<span class="stringliteral">&quot;my_table&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// sends &quot;SELECT COUNT(*) AS count FROM my_table WHERE col1 = val1;&quot;</span></div>
<div class="line">$foo-&gt;count(<span class="stringliteral">&quot;my_table&quot;</span>, <span class="stringliteral">&quot;col1 = val1&quot;</span>);</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>If an error occurs, the error code and description can be obtained from the <a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a0cb70bee2a022b5feb36b17f6da8d5c9" title="Returns the last error&#39;s code. ">error_code()</a> and <a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#ac8f7e84858176aa9327fdf8e63bc05ed" title="Returns the last error&#39;s description. ">error_info()</a> methods </dd></dl>

</div>
</div>
<a class="anchor" id="a7d14a9de8bac5dd9b5cfec163e448157"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">delete </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$where</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method for sending a delete query to the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$table</td><td>The table name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$where</td><td>The where clause</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the deletion has succeeded, false otherwise</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The parameters must be correctly escaped</dd></dl>
<p>Examples : </p>
<div class="fragment"><div class="line"><span class="comment">// sends a &quot;DELETE FROM my_table WHERE col1 = val1 AND col2 &lt; 10;&quot;</span></div>
<div class="line">$foo-&gt;delete(<span class="stringliteral">&quot;my_table&quot;</span>, <span class="stringliteral">&quot;col1 = val1 AND col2 &lt; 10&quot;</span>);</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>If an error occurs, the error code and description can be obtained from the <a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a0cb70bee2a022b5feb36b17f6da8d5c9" title="Returns the last error&#39;s code. ">error_code()</a> and <a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#ac8f7e84858176aa9327fdf8e63bc05ed" title="Returns the last error&#39;s description. ">error_info()</a> methods </dd></dl>

</div>
</div>
<a class="anchor" id="a640036a4f2982d41e3a28fb3f5a8d2fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">do_dump </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a boolean if the queries must be dumped according to the dump mode. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the queries must be dumped, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a6b53e03f7badf3105a7dca81d0722c3c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dump </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dump the given string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$str</td><td>The string to dump </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0cb70bee2a022b5feb36b17f6da8d5c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">error_code </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">abstract</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the last error's code. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>Error code of the last error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac8f7e84858176aa9327fdf8e63bc05ed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">error_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">abstract</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the last error's description. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Error description of the last error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0500ef1cc62855e928abbdb7e62324a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">execute_query </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$parameters</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">abstract</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method for sending a user-defined query to the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$query</td><td>The query to send to the database (parameters must be marked by '?') </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">array</td><td class="paramname">$parameters</td><td>The parameters to insert into the query. An empty array means no parameters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array|bool</td><td>An array containing the result of the query if some data must be returned. If the query is such that it won't return any data, then the method returns true if the query was successfully executed. In both case, if an error occurs then the method returns false.</td></tr>
  </table>
  </dd>
</dl>
<p>Examples : </p>
<div class="fragment"><div class="line"><span class="comment">// query without parameter</span></div>
<div class="line">$query = <span class="stringliteral">&quot;SELECT * FROM batiment;&quot;</span>;</div>
<div class="line">$foo-&gt;execute_query($query);</div>
<div class="line"></div>
<div class="line"><span class="comment">// query with parameters</span></div>
<div class="line">$query = <span class="stringliteral">&quot;SELECT nom, prenom FROM personne WHERE taille &gt; ? AND age &gt; ?;&quot;</span>;</div>
<div class="line">$param = array(150, 18);</div>
<div class="line">$foo-&gt;execute_query($query, $param);</div>
<div class="line"></div>
<div class="line"><span class="comment">// query with string parameters</span></div>
<div class="line">$query = <span class="stringliteral">&quot;INSERT INTO personne VALUES nom = ?, prenom = ?, ville = ?, age = ?;&quot;</span>;</div>
<div class="line">$param = array(<span class="stringliteral">&quot;Doe&quot;</span>, <span class="stringliteral">&quot;John&quot;</span>, <span class="stringliteral">&quot;Cape Town&quot;</span>, 18);</div>
<div class="line">$foo-&gt;execute_query($query, $param);</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>If an error occurs, the error code and description can be obtained from the <a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a0cb70bee2a022b5feb36b17f6da8d5c9" title="Returns the last error&#39;s code. ">error_code()</a> and <a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#ac8f7e84858176aa9327fdf8e63bc05ed" title="Returns the last error&#39;s description. ">error_info()</a> methods </dd></dl>

</div>
</div>
<a class="anchor" id="ae9ae41c429f484035137903685ace34e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">insert </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$column_value_map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method for sending an insert query to the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$table</td><td>The table name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">array</td><td class="paramname">$column_value_map</td><td>An array mapping columns names and their value for the row to insert</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the insertion has succeeded, false otherwise</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The parameters must be correctly escaped</dd></dl>
<p>Examples : </p>
<div class="fragment"><div class="line"><span class="comment">// sends &quot;INSERT INTO my_table(col1, col2) VALUES(&#39;val1&#39;, &#39;val2&#39;);&quot;</span></div>
<div class="line">$foo-&gt;insert(<span class="stringliteral">&quot;my_table&quot;</span>, array(<span class="stringliteral">&quot;col1&quot;</span> =&gt; <span class="stringliteral">&quot;val1&quot;</span>, <span class="stringliteral">&quot;col2&quot;</span> =&gt; <span class="stringliteral">&quot;val2&quot;</span>));</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>If an error occurs, the error code and description can be obtained from the <a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a0cb70bee2a022b5feb36b17f6da8d5c9" title="Returns the last error&#39;s code. ">error_code()</a> and <a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#ac8f7e84858176aa9327fdf8e63bc05ed" title="Returns the last error&#39;s description. ">error_info()</a> methods </dd></dl>

</div>
</div>
<a class="anchor" id="a9bb81036f69a5a88a69564370318e69d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">insert_batch </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$columns</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method for sending an insert query to the database in order to insert multiple rows at once. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$table</td><td>The table in which the rows must be inserted </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">array</td><td class="paramname">$values</td><td>A multidimensionnal array of which the subarrays (rows) are the values </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">array</td><td class="paramname">$columns</td><td>The columns in which the values must be inserted (optionnal) to insert as new rows. The values must be ordered in the same way as in $columns</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The values are should not be escaped</dd></dl>
<p>Example : </p>
<div class="fragment"><div class="line"><span class="comment">// sends &quot;INSERT INTO my_table(col1, col2) VALUES(&#39;val1&#39;, &#39;val2&#39;), (&#39;val1bis&#39;, &#39;val2bis&#39;);&quot;</span></div>
<div class="line">$columns = array(<span class="stringliteral">&#39;col1&#39;</span>, <span class="stringliteral">&#39;col2&#39;</span>);</div>
<div class="line">$values  = array(array(<span class="stringliteral">&#39;val1&#39;</span>, <span class="stringliteral">&#39;val2&#39;</span>), array(<span class="stringliteral">&#39;val1bis&#39;</span>, <span class="stringliteral">&#39;val2bis&#39;</span>));</div>
<div class="line">$foo-&gt;insert_batch(<span class="stringliteral">&quot;my_table&quot;</span>, $columns, $values);</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="addadc2022e9fe02f49da4f7672fb6819"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">last_insert_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">abstract</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the id of the last inserted line. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string|int</td><td>The last inserted row's id, -1 on error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad9cef27070234089790beb72cab82d6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lock </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$tables_lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acquires the lock for tables given in the array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">array</td><td class="paramname">$tables_lock</td><td>Array of strings. Each string contains information about a table to lock and the type of lock </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the locks are acquired, false otherwise</td></tr>
  </table>
  </dd>
</dl>
<p>Example : </p>
<div class="fragment"><div class="line"><span class="comment">// lock the tables my_table and my_table2 respectively in READ and WRITE mode</span></div>
<div class="line">$db-&gt;lock(array(<span class="stringliteral">&quot;my_table READ&quot;</span>, <span class="stringliteral">&quot;my_table2 WRITE&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// mess around with my_table and my_table2 through the SQLAbstract object : </span></div>
<div class="line">$db-&gt;select(<span class="stringliteral">&quot;my_table&quot;</span>, null, array(<span class="stringliteral">&quot;col1&quot;</span>, <span class="stringliteral">&quot;col2&quot;</span>));</div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line">$db-&gt;update(<span class="stringliteral">&quot;my_table2&quot;</span>, array(<span class="stringliteral">&quot;col1&quot;</span> =&gt; <span class="stringliteral">&quot;val1&quot;</span>), <span class="stringliteral">&quot;Id = 18&quot;</span>);</div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// finally unlock tables</span></div>
<div class="line">$db-&gt;unlock();</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a53a8200588d31907bac9a51dc589deea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">prepare_query </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">abstract</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare a query. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$query</td><td>The query </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>An object allowing the query execution</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This method should be prefered to <a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a0500ef1cc62855e928abbdb7e62324a1" title="Method for sending a user-defined query to the database. ">SQLAbstract::execute_query</a> when the same query has to be repeated several times because, in this situation, the query preparation speeds up the multiple querying </dd></dl>

</div>
</div>
<a class="anchor" id="a9f9ccca65ba449d5a2ba12ecc0a69e98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">procedure_call </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$procedure_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$arguments</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method for sending a procedure call to the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$procedure_name</td><td>The name of the procedure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">array</td><td class="paramname">$arguments</td><td>Array with the arguments. An empty array means no argument.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array|bool</td><td>An array containing the result of the procedure call, false on error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The parameters must be correctly escaped</dd></dl>
<p>Examples : </p>
<div class="fragment"><div class="line"><span class="comment">// sends &quot;CALL proc1();&quot;</span></div>
<div class="line">$foo-&gt;procedure_call(<span class="stringliteral">&quot;proc1&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// sends &quot;CALL proc1(arg1, &#39;arg2&#39;);&quot;</span></div>
<div class="line">$foo-&gt;procedure_call(<span class="stringliteral">&quot;proc1&quot;</span>, array(<span class="stringliteral">&quot;arg1&quot;</span>, <span class="stringliteral">&quot;&#39;arg2&#39;&quot;</span>));</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>If an error occurs, the error code and description can be obtained from the <a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a0cb70bee2a022b5feb36b17f6da8d5c9" title="Returns the last error&#39;s code. ">error_code()</a> and <a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#ac8f7e84858176aa9327fdf8e63bc05ed" title="Returns the last error&#39;s description. ">error_info()</a> methods </dd></dl>

</div>
</div>
<a class="anchor" id="ab0de61372611c058fe76c1a341691182"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">quote </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$string</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">abstract</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Same behavior as the method PDO::quote() </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$string</td><td>The string to escape </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The quoted and escaped string </dd></dl>

</div>
</div>
<a class="anchor" id="a0981338c1b985794260fd6a0e27208c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">quote_all </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$strings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an array containing the strings of the $strings array quoted. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>The array of quoted strings </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a478f6fd3da7fa9ee1ec738076f3239fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">quote_fn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return an anonymous function that quotes its string argument. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">function</td><td>Function that takes a string argument and returns it quoted</td></tr>
  </table>
  </dd>
</dl>
<p>Examples : </p>
<div class="fragment"><div class="line">$str_array = array(<span class="stringliteral">&quot;param1&quot;</span>, <span class="stringliteral">&quot;param2&quot;</span>, <span class="stringliteral">&quot;param3&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">//  Array </span></div>
<div class="line"><span class="comment">//  (</span></div>
<div class="line"><span class="comment">//     [0] =&gt; param1</span></div>
<div class="line"><span class="comment">//     [1] =&gt; param2</span></div>
<div class="line"><span class="comment">//     [2] =&gt; param3</span></div>
<div class="line"><span class="comment">//  )</span></div>
<div class="line"></div>
<div class="line">print_r(array_map($sql-&gt;quote_fn(), $str_array)); </div>
<div class="line"> </div>
<div class="line"><span class="comment">//  Displays : </span></div>
<div class="line"><span class="comment">//  Array </span></div>
<div class="line"><span class="comment">//  (</span></div>
<div class="line"><span class="comment">//     [0] =&gt; &#39;param1&#39;</span></div>
<div class="line"><span class="comment">//     [1] =&gt; &#39;param2&#39;</span></div>
<div class="line"><span class="comment">//     [2] =&gt; &#39;param3&#39;</span></div>
<div class="line"><span class="comment">//  )</span></div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="afa549adf79e3f8c09fe8f903dd5fbfa7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rollback </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rollback the current transaction. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the rollback was successfully executed, false otherwise </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>See <a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a6f5e7602837a6f85fcb02751c073b181" title="Starts a transaction. ">SQLAbstract::transaction</a> for an example </dd></dl>

</div>
</div>
<a class="anchor" id="ad0e21a3c98ae9f8d8f1f69cc5753bec6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">select </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$where_clause</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$column_names</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$order_by</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$group_by</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limit_first</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limit_nb</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method for sending a select query to the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$table</td><td>The table name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$where_clause</td><td>A string containing the where clause </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">array</td><td class="paramname">$column_names</td><td>The names of the colmuns to select (array of strings). null means "*" </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">array</td><td class="paramname">$order_by</td><td>The names of the columns on which the results must be sorted (array of strings). null means no sorting. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">array</td><td class="paramname">$group_by</td><td>The names of the columns on which the results must be grouped (array of strings). null means no grouping. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">int</td><td class="paramname">$limit_first</td><td>The number of the first row to display </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">int</td><td class="paramname">$limit_nb</td><td>The number of rows to extract</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array|bool</td><td>An array containing the results of the query (each row is an array mapping the columns name with its value) or false on error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The parameters must be correctly escaped</dd></dl>
<p>Examples : </p>
<div class="fragment"><div class="line"><span class="comment">// sends &quot;SELECT * FROM my_table;&quot;</span></div>
<div class="line">$foo-&gt;select(<span class="stringliteral">&quot;my_table&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// sends &quot;SELECT col1, col2 FROM my_table;&quot;</span></div>
<div class="line">$foo-&gt;select(<span class="stringliteral">&quot;my_table&quot;</span>, null, array(<span class="stringliteral">&quot;col1&quot;</span>, <span class="stringliteral">&quot;col2&quot;</span>));</div>
<div class="line"></div>
<div class="line"><span class="comment">// sends &quot;SELECT SUM(row1) AS sum_row1, row2 FROM my_table WHERE row3 &gt; NOW() GROUP BY row2;&quot;</span></div>
<div class="line">$foo-&gt;select(<span class="stringliteral">&quot;my_table&quot;</span>, <span class="stringliteral">&quot;row3 &gt; NOW()&quot;</span>, array(<span class="stringliteral">&quot;SUM(row1) AS sum_row1&quot;</span>, <span class="stringliteral">&quot;row2&quot;</span>), null, null, array(), array(<span class="stringliteral">&quot;row2&quot;</span>));</div>
<div class="line"></div>
<div class="line"><span class="comment">// sends &quot;SELECT * FROM table1 NATURAL JOIN table2;&quot;</span></div>
<div class="line">$foo-&gt;select(<span class="stringliteral">&quot;table1 NATURAL JOIN table2&quot;</span>);</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>If an error occurs, the error code and description can be obtained from the <a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a0cb70bee2a022b5feb36b17f6da8d5c9" title="Returns the last error&#39;s code. ">error_code()</a> and <a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#ac8f7e84858176aa9327fdf8e63bc05ed" title="Returns the last error&#39;s description. ">error_info()</a> methods </dd></dl>

</div>
</div>
<a class="anchor" id="a8dc0c0e58a3e2d53d8fa1be24988e958"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">set_dump_mode </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dump_mode</em> = <code><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#abebc05efc87154ccedcec67bcafc2a56">SQLAbstract::DUMP_MODE_DUMP_ALL</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the dump mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">$dump_mode</td><td>Must be one of the following class constant :<ul>
<li><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#abebc05efc87154ccedcec67bcafc2a56">SQLAbstract::DUMP_MODE_DUMP_ALL</a> : dump every query to the screen</li>
<li><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a6f5010c658108d96a322924dee3b9fe4">SQLAbstract::DUMP_MODE_NO_DUMP</a> : never dump any query to the screen </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6f5e7602837a6f85fcb02751c073b181"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">transaction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts a transaction. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the transaction was successfully started, false otherwise</td></tr>
  </table>
  </dd>
</dl>
<p>Example : </p>
<div class="fragment"><div class="line"><span class="comment">// initiate the transaction</span></div>
<div class="line">$db-&gt;transaction();</div>
<div class="line"></div>
<div class="line"><span class="comment">// mess around with the database through the SQLAbstract object</span></div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// if an error occurs, one can rollback the transaction</span></div>
<div class="line"><span class="keywordflow">if</span> ($error_occurred) </div>
<div class="line">  $db-&gt;rollback();</div>
<div class="line"><span class="keywordflow">else</span> <span class="comment">// if everything went fine, then one can commit</span></div>
<div class="line">  $db-&gt;commit();    </div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="afb061ecbff1e66db62b9eddfea6e915f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release all the locks acquired with lock. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the tables were unlocked </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Refer to <a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#ad9cef27070234089790beb72cab82d6e" title="Acquires the lock for tables given in the array. ">SQLAbstract::lock</a> for an example </dd></dl>

</div>
</div>
<a class="anchor" id="ae44dccde336c9cf20170ff8a6eb06d78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">update </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$where</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method for sending an update query to the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$table</td><td>The table name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">array</td><td class="paramname">$set</td><td>An array mapping the column name with its value (string =&gt; string) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$where</td><td>A string containing the WHERE clause</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the update has succeeded, false otherwise</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The parameters must be correctly escaped</dd></dl>
<p>Examples : </p>
<div class="fragment"><div class="line"><span class="comment">// sends &quot;UPDATE my_table SET col1 = val1, col2 = &#39;val2&#39; WHERE col3 = val3;&quot;</span></div>
<div class="line">$foo-&gt;update(<span class="stringliteral">&quot;my_table&quot;</span>, array(<span class="stringliteral">&quot;col1&quot;</span> =&gt; <span class="stringliteral">&quot;val1&quot;</span>, <span class="stringliteral">&quot;col2&quot;</span> =&gt; <span class="stringliteral">&quot;&#39;val2&#39;&quot;</span>), <span class="stringliteral">&quot;col3 = val3&quot;</span>);</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>If an error occurs, the error code and description can be obtained from the <a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#a0cb70bee2a022b5feb36b17f6da8d5c9" title="Returns the last error&#39;s code. ">error_code()</a> and <a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html#ac8f7e84858176aa9327fdf8e63bc05ed" title="Returns the last error&#39;s description. ">error_info()</a> methods </dd></dl>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="abebc05efc87154ccedcec67bcafc2a56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const DUMP_MODE_DUMP_ALL = 1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For dumping all queries to the screen </p>

</div>
</div>
<a class="anchor" id="a6f5010c658108d96a322924dee3b9fe4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const DUMP_MODE_NO_DUMP = 2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For never dumping any query </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>D:/Documents/BitBucket/CalendarTool/web/util/database/<a class="el" href="_s_q_l_abstract_8class_8php.html">SQLAbstract.class.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>util</b></li><li class="navelem"><b>database</b></li><li class="navelem"><a class="el" href="classutil_1_1database_1_1_s_q_l_abstract.html">SQLAbstract</a></li>
    <li class="footer">Generated on Wed Feb 4 2015 10:24:59 for CalendarTool by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
