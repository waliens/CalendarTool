<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>CalendarTool: Yubikey Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CalendarTool
   &#160;<span id="projectnumber">0.0</span>
   </div>
   <div id="projectbrief">Learn the basic management and make a calendar tool</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classphp_sec_1_1_auth_1_1_yubikey.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">Yubikey Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a214009aa2e0a8821f3e06ad5bb7a1754"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphp_sec_1_1_auth_1_1_yubikey.html#a214009aa2e0a8821f3e06ad5bb7a1754">__construct</a> (\<a class="el" href="classphp_sec_1_1_core.html">phpSec\Core</a> $psl)</td></tr>
<tr class="separator:a214009aa2e0a8821f3e06ad5bb7a1754"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a11387a147ceb5aaa2a318324af9d44"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphp_sec_1_1_auth_1_1_yubikey.html#a4a11387a147ceb5aaa2a318324af9d44">verify</a> ($otp)</td></tr>
<tr class="separator:a4a11387a147ceb5aaa2a318324af9d44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5494d91f563b524107986089187e7d42"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphp_sec_1_1_auth_1_1_yubikey.html#a5494d91f563b524107986089187e7d42">sign</a> ($data)</td></tr>
<tr class="separator:a5494d91f563b524107986089187e7d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c62fb130522685e8e7b01bf1de126e6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphp_sec_1_1_auth_1_1_yubikey.html#a0c62fb130522685e8e7b01bf1de126e6">validOtp</a> ($otp)</td></tr>
<tr class="separator:a0c62fb130522685e8e7b01bf1de126e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f6825a7526af525cfe5db60e5b26748"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphp_sec_1_1_auth_1_1_yubikey.html#a2f6825a7526af525cfe5db60e5b26748">getYubikeyId</a> ($otp)</td></tr>
<tr class="separator:a2f6825a7526af525cfe5db60e5b26748"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a88d2eb69072482bb4e77e04534bc7276"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphp_sec_1_1_auth_1_1_yubikey.html#a88d2eb69072482bb4e77e04534bc7276">$clientId</a> = null</td></tr>
<tr class="separator:a88d2eb69072482bb4e77e04534bc7276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3523acfb1ec2691723f13dd4ccd114c9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphp_sec_1_1_auth_1_1_yubikey.html#a3523acfb1ec2691723f13dd4ccd114c9">$clientSecret</a> = null</td></tr>
<tr class="separator:a3523acfb1ec2691723f13dd4ccd114c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97d5044f305fda40ccb6865b23bd7bfe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphp_sec_1_1_auth_1_1_yubikey.html#a97d5044f305fda40ccb6865b23bd7bfe">$_numServers</a> = 3</td></tr>
<tr class="separator:a97d5044f305fda40ccb6865b23bd7bfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c7395c93f01713778e5afd41c308f9f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphp_sec_1_1_auth_1_1_yubikey.html#a7c7395c93f01713778e5afd41c308f9f">$_serverTimeout</a> = 3</td></tr>
<tr class="separator:a7c7395c93f01713778e5afd41c308f9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb6be70a528323568af007db6a3885e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphp_sec_1_1_auth_1_1_yubikey.html#a6cb6be70a528323568af007db6a3885e">$lastError</a> = null</td></tr>
<tr class="separator:a6cb6be70a528323568af007db6a3885e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a214009aa2e0a8821f3e06ad5bb7a1754"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">\<a class="el" href="classphp_sec_1_1_core.html">phpSec\Core</a>&#160;</td>
          <td class="paramname"><em>$psl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\phpSec\Core</td><td class="paramname">$psl</td><td><a class="el" href="namespacephp_sec.html">phpSec</a> core <a class="el" href="classphp_sec_1_1_pimple.html">Pimple</a> container. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a2f6825a7526af525cfe5db60e5b26748"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getYubikeyId </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$otp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the identity of a <a class="el" href="classphp_sec_1_1_auth_1_1_yubikey.html">Yubikey</a> OTP. The identity part is the same for every OTP, and it is the initial 2-16 modhex characters of the OTP. Since the rest of the OTP is always 32 characters, the method to extract the identity is to remove 32 characters from the end and then use the remaining string, which should be 2-16 characters, as the YubiKey identity.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$otp</td><td>The one time password to get the identity from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Returns the <a class="el" href="classphp_sec_1_1_auth_1_1_yubikey.html">Yubikey</a> identity, or false on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a5494d91f563b524107986089187e7d42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sign </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sign data using shared secret.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$data</td><td>Data to sign.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Base64 encoded HMAC hash. </dd></dl>

</div>
</div>
<a class="anchor" id="a0c62fb130522685e8e7b01bf1de126e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">validOtp </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$otp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Validate a string as a one-time-password. A valid OTP should consist of 32-48 printable characters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$otp</td><td>String to Validate</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean True if the OTP is valid, false on error. </dd></dl>

</div>
</div>
<a class="anchor" id="a4a11387a147ceb5aaa2a318324af9d44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">verify </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$otp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Verify <a class="el" href="classphp_sec_1_1_auth_1_1_yubikey.html">Yubikey</a> one time password against the Yubico servers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$otp</td><td>One time password to verify.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean True on valid OTP, false on invalid. If this method returns false $lastError will contain details.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a href="https://phpseclib.com/manual/09-Yubikey-Authentication.md">https://phpseclib.com/manual/09-Yubikey-Authentication.md</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a97d5044f305fda40ccb6865b23bd7bfe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_numServers = 3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of servers to try before giving up. </p>

</div>
</div>
<a class="anchor" id="a7c7395c93f01713778e5afd41c308f9f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_serverTimeout = 3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Timeout in seconds for each server. </p>

</div>
</div>
<a class="anchor" id="a88d2eb69072482bb4e77e04534bc7276"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$clientId = null</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Yubico client Id. </p>
<dl class="section see"><dt>See Also</dt><dd><a href="https://upgrade.yubico.com/getapikey/">https://upgrade.yubico.com/getapikey/</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a3523acfb1ec2691723f13dd4ccd114c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$clientSecret = null</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Yubico client shared secret. </p>
<dl class="section see"><dt>See Also</dt><dd><a href="https://upgrade.yubico.com/getapikey/">https://upgrade.yubico.com/getapikey/</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6cb6be70a528323568af007db6a3885e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$lastError = null</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Last error produced by phpsecYubikey::verify(). </p>
<dl class="section see"><dt>See Also</dt><dd><a href="https://phpseclib.com/manual/09-Yubikey-Authentication.md">https://phpseclib.com/manual/09-Yubikey-Authentication.md</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>D:/Documents/BitBucket/CalendarTool/web/util/phpSec/Auth/Yubikey.php</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacephp_sec.html">phpSec</a></li><li class="navelem"><b>Auth</b></li><li class="navelem"><a class="el" href="classphp_sec_1_1_auth_1_1_yubikey.html">Yubikey</a></li>
    <li class="footer">Generated on Sat Feb 7 2015 00:21:05 for CalendarTool by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
